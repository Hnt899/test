@tailwind base;
@tailwind components;
@tailwind utilities;

/* База */
html, body { @apply min-h-screen bg-bg text-ink antialiased; }
:root { --sidebar-width: 240px; }

/* Типографика */
@layer base {
  h1 { @apply text-[22px] font-semibold tracking-[-0.01em]; }
  h2 { @apply text-[18px] font-semibold; }
  a  { @apply text-ink; }
}

/* Компоненты */
@layer components {
  .page        { @apply space-y-6; }
  .card        { @apply bg-white border border-line rounded-card shadow-card; }
  .section     { @apply card p-4; }
  .btn         { @apply inline-flex items-center justify-center px-3 py-2 text-sm rounded-smd transition-colors; }
  .btn-primary { @apply btn bg-ink text-white hover:bg-black; }
  .btn-ghost   { @apply btn border border-line bg-white hover:bg-gray-50; }
  .btn-danger  { @apply btn bg-danger text-white hover:opacity-90; }
  .input       { @apply w-full border border-line rounded-smd px-3 py-2 bg-white outline-none focus:ring-2 focus:ring-brand/20; }
  .select      { @apply input pr-8; }

  /* Таблица */
  .table-wrap  { @apply card overflow-hidden; }
  .table       { @apply w-full text-sm; }
  .thead       { @apply bg-white; }
  .th          { @apply text-left p-3 text-sub font-medium border-b border-line; }
  .td          { @apply p-3 align-top border-b border-line; }
  .tr:hover    { @apply bg-gray-50; }

  /* Пагинация — стиль Codex */
  .pagination         { @apply flex justify-end; }
  .pagination-group   { @apply inline-flex items-center overflow-hidden rounded-xl border-2 border-brand bg-transparent; }
  .pagination-button  { @apply flex h-10 w-12 items-center justify-center text-sm font-semibold text-brand transition-colors bg-transparent; }
  .pagination-button:not(.active):not(.disabled):hover { @apply bg-brand/10; }
  .pagination-button.active   { @apply bg-brand text-white; }
  .pagination-button.disabled { @apply text-brand/30 cursor-not-allowed; }
  .pagination-button.disabled:hover { @apply bg-transparent; }

  /* Кнопка "Показать ещё 10" */
  .show-more-button         { @apply inline-flex items-center gap-2 text-sm font-semibold text-sub transition-colors bg-transparent px-0 py-0; }
  .show-more-button__number { @apply text-brand; }
  .show-more-button:hover   { @apply text-brand; }

  /* Ссылка-комментарии */
  .comments-link {
    @apply inline-flex h-9 w-9 items-center justify-center rounded-full border border-line text-brand transition-colors hover:border-brand hover:bg-brand hover:text-white;
  }

  /* Mobile сортировка */
  .mobile-sort { @apply relative; }
  .mobile-sort__toggle {
    @apply flex w-full items-center justify-between rounded-xl border border-line bg-white px-4 py-3 text-sm font-semibold shadow-card;
  }
  .mobile-sort__label { @apply text-xs font-medium text-sub; }
  .mobile-sort__value { @apply text-base font-semibold text-ink; }
  .mobile-sort__panel {
    @apply absolute left-0 right-0 z-20 mt-2 overflow-hidden rounded-xl border border-line bg-white shadow-lg;
  }
  .mobile-sort__option {
    @apply flex w-full items-center justify-between gap-3 px-4 py-3 text-sm font-medium text-ink transition-colors;
  }
  .mobile-sort__option.active { @apply bg-brand/5; }
  .mobile-sort__option:hover  { @apply bg-brand/10; }
  .mobile-sort__option-label  { @apply text-left; }
  .mobile-sort__option-meta   { @apply flex items-center gap-2 text-xs font-semibold text-sub; }
  .mobile-sort__option-status { @apply text-sub; }

  /* Mobile карточки постов */
  .mobile-posts-empty     { @apply rounded-2xl border border-dashed border-line/70 bg-white px-4 py-10 text-center text-sm font-medium; }
  .mobile-post-list       { @apply flex flex-col gap-3; }
  .mobile-post-card       { @apply rounded-2xl border border-line bg-white p-4 shadow-card space-y-3; }
  .mobile-post-card__header { @apply flex items-center justify-between text-sm font-semibold text-sub; }
  .mobile-post-card__id     { @apply text-base font-semibold text-ink; }
  .mobile-post-card__author { @apply flex items-center gap-3; }
  .mobile-post-card__avatar-fallback { @apply flex h-10 w-10 items-center justify-center rounded-full bg-brand/10 text-sm font-semibold text-brand; }
  .mobile-post-card__author-name { @apply text-sm font-semibold text-ink; }
  .mobile-post-card__title  { @apply text-sm font-medium leading-5 text-ink; }
  .mobile-post-card__metrics { @apply flex items-center gap-4 text-sub text-sm; }
  .mobile-post-card__metric { @apply inline-flex items-center gap-1 font-semibold text-sub; }
  .mobile-post-card__metric span { @apply text-ink; }
  .mobile-post-card .comments-link { @apply h-8 w-8; }
}

/* Sidebar */
@layer components {
  .sidebar  { @apply h-screen sticky top-0 bg-white border-r border-line p-6; }
  .nav      { @apply flex flex-col gap-3 text-sm font-medium; }
  .nav a    { @apply block hover:text-brand; }
  .nav .sep { @apply my-6 border-t border-line; }
}

/* Утилиты */
@layer utilities {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
